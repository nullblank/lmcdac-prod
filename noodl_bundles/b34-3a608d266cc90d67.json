[{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in","nodes":[{"id":"3056ccae-4640-469b-1900-203efa2d6a14","type":"Page","parameters":{},"ports":[],"children":[{"id":"5905b4b8-6536-768e-7764-e07c78b6717e","type":"Group","parameters":{"flexDirection":"row","position":"relative"},"ports":[],"children":[{"id":"27916caf-8836-dc48-b9ac-a423a7c25f37","type":"Group","parameters":{"sizeMode":"contentWidth","position":"relative"},"ports":[],"children":[{"id":"e0a938c4-c6ec-9ba9-1525-43007bb04c04","type":"/Sidebar","parameters":{},"ports":[],"children":[]}]},{"id":"3b931ffd-5c1b-0358-d6d6-356d2499554e","type":"Group","parameters":{"backgroundColor":"Not-so Deep Blue","height":{"value":100,"unit":"%"},"position":"relative","flexDirection":"row"},"ports":[],"children":[{"id":"1d22826f-fd6f-ee7a-0505-6ffb205acbc5","type":"Group","parameters":{"position":"relative"},"ports":[],"children":[{"id":"a472c38b-5697-949b-0084-587fbe6a0b68","type":"Router","parameters":{"name":"Logged_in_main_panel","pages":{"routes":["/Dashboard","/Profile","/Submit Faculty","/Settings","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/Update Profile Loggedin","/Dashboard_Admin","/Reporting_Admin"],"startPage":"/Dashboard"}},"ports":[],"children":[]}]}]}]}]},{"id":"68f0cd7a-0ba6-1b10-1487-70d0d4ee470f","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"68986e81-b390-ba71-73b9-20a1b1020627","type":"Group","parameters":{"scrollEnabled":false,"nativeScroll":false,"visible":true},"ports":[],"children":[{"id":"aebde6de-9b97-ece3-d8f8-d69442cd61f3","type":"Router","parameters":{"name":"Supabase Not Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Error404","/#Supabase Prefab/Supabase Prefab/Pages/Faculty"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"mounted":false},"ports":[],"children":[]},{"id":"01a46106-c326-e7bc-38fe-1af08320a6ad","type":"Router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password","/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/Dashboard","/Update Profile","/Update Profile Loggedin"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"mounted":true,"clip":"contentHeight"},"ports":[],"children":[]}]},{"id":"5211d8ef-9f1d-4126-82dd-2a7bb33e4b30","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"d578150a-14de-fe43-5aff-400dd28848e0","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"b085c9dd-65be-b301-4cda-cd15182a4b61","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst fetchActiveSchoolYear = async () => {\n    const { data, error } = await Noodl.Variables.supabaselocal\n        .from('schoolyear')\n        .select('*')\n        .eq('is_active', true);\n\n    if (error) {\n        Outputs.Error = error.message;\n        Outputs.Failure();\n    } else {\n        Outputs.Year = data[0]; // Assuming only one active school year record\n        Outputs.Success();\n    }\n}\n\nfetchActiveSchoolYear();\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Year","displayName":"Year","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"29b97d83-5c10-e8d9-32dd-6d293a3115f8","type":"Model2","parameters":{"modelId":"currSchoolYear"},"ports":[],"children":[]}],"connections":[{"sourceId":"5211d8ef-9f1d-4126-82dd-2a7bb33e4b30","sourcePort":"Is User Logged In","targetId":"d578150a-14de-fe43-5aff-400dd28848e0","targetPort":"value"},{"sourceId":"d578150a-14de-fe43-5aff-400dd28848e0","sourcePort":"result","targetId":"aebde6de-9b97-ece3-d8f8-d69442cd61f3","targetPort":"mounted"},{"sourceId":"5211d8ef-9f1d-4126-82dd-2a7bb33e4b30","sourcePort":"Is User Logged In","targetId":"01a46106-c326-e7bc-38fe-1af08320a6ad","targetPort":"mounted"},{"sourceId":"5905b4b8-6536-768e-7764-e07c78b6717e","sourcePort":"didMount","targetId":"b085c9dd-65be-b301-4cda-cd15182a4b61","targetPort":"run"},{"sourceId":"b085c9dd-65be-b301-4cda-cd15182a4b61","sourcePort":"out-Year","targetId":"29b97d83-5c10-e8d9-32dd-6d293a3115f8","targetPort":"modelId"},{"sourceId":"b085c9dd-65be-b301-4cda-cd15182a4b61","sourcePort":"out-Success","targetId":"29b97d83-5c10-e8d9-32dd-6d293a3115f8","targetPort":"fetch"}],"ports":[{"name":"Is User Logged In","type":{"name":"boolean"},"plug":"input","index":1}],"roots":["3056ccae-4640-469b-1900-203efa2d6a14","68986e81-b390-ba71-73b9-20a1b1020627"]}]
[{"name":"/Reporting_Admin","nodes":[{"id":"53c40b64-c1d2-8c6b-b4be-fb1e95533578","type":"Page","parameters":{},"ports":[],"children":[{"id":"d3ca9e51-ff86-4f8f-ea47-403cb1b8d206","type":"Group","parameters":{},"ports":[],"children":[{"id":"5e170e1d-672c-732f-9db6-b06bcc019e10","type":"Group","parameters":{"marginTop":{"value":20,"unit":"px"},"marginLeft":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"},"marginRight":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"a6fe2411-23b8-4bd7-ae75-1cb486aab71b","type":"Group","parameters":{"flexDirection":"row","paddingTop":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"08b6f087-a476-c0c0-54b7-704a0bf5e07b","type":"Group","parameters":{"marginRight":{"value":5,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"borderStyle":"solid","borderColor":"Depressive Blue","borderWidth":{"value":1,"unit":"px"},"sizeMode":"contentWidth"},"ports":[],"children":[{"id":"9c355596-b080-0d8f-a70d-7b8611ba7f88","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"e3c3bcc1-1dae-2255-3f2f-a168640a7465","type":"Text","parameters":{"sizeMode":"contentSize","color":"Selection Yellow","textStyle":"Title Large","text":"Search users","textTransform":"uppercase"},"ports":[],"children":[]}]},{"id":"3785270d-fa00-9c4f-a25a-e05041a8bb3f","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"1b97d1ff-ad0c-e9cc-2df1-38fdd46bc20f","type":"net.noodl.controls.textinput","parameters":{"borderColor":"Depressive Blue","color":"Selection Yellow","label":"Search for specific user","labelcolor":"Grey - 400","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconColor":"Grey - 400","placeholder":"Search for user","sizeMode":"explicit","useLabel":false},"ports":[],"children":[]},{"id":"ae26bb9c-527e-67ff-660c-5eac128c01a6","type":"net.noodl.controls.button","parameters":{"label":"Search","useIcon":true,"iconIconSource":{"class":"material-icons","code":"content_paste_search","codeAsClass":false},"backgroundColor":"Main Blue","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentWidth","alignY":"center","marginLeft":{"value":10,"unit":"px"}},"ports":[],"children":[]}]},{"id":"43aca96a-74e5-8ade-35de-e79f060173bb","type":"Group","parameters":{"scrollEnabled":false,"marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","type":"For Each","parameters":{"template":"/Dashboard_Admin/Search Item"},"ports":[],"children":[]}]}]},{"id":"95c31926-da2d-8dc7-d2c0-91ad05b979dd","type":"Group","parameters":{"marginLeft":{"value":5,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"91482b44-7fd4-5b4b-d993-f81f5f38f232","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","justifyContent":"space-between"},"ports":[],"children":[{"id":"8c112d7a-44f1-1a93-bf7a-0cb70d91f4c5","type":"Group","parameters":{"sizeMode":"contentSize","paddingBottom":{"value":5,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"Depressive Blue","borderBottomWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"e298caae-4321-2469-c3f6-3fd9f859d3b0","type":"Text","parameters":{"sizeMode":"contentSize","color":"Selection Yellow","textStyle":"Title Large","text":"Showing records for","textTransform":"uppercase"},"ports":[],"children":[]},{"id":"6a267d33-94db-ab80-3898-dce4ce046c4f","type":"Text","parameters":{"color":"Grey - 400","text":"PLACEHOLDER","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"dd77a41d-4e5e-e437-ab17-2d24cdb24f8a","type":"Group","parameters":{"sizeMode":"contentSize","paddingBottom":{"value":5,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"Depressive Blue","borderBottomWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"78341bcd-c549-faee-7c5c-de3d864170d2","type":"net.noodl.controls.options","parameters":{"label":"School Year","color":"Primary Light","labelcolor":"Selection Yellow","labeltextStyle":"Title Small","sizeMode":"explicit","width":{"value":100,"unit":"%","isFixed":false},"iconColor":"Selection Yellow","placeholder":"Select S.Y.","borderColor":"Depressive Blue","labeltextTransform":"uppercase"},"ports":[],"children":[]}]}]},{"id":"e1229f18-e182-db0f-2fb1-37c101455e8e","type":"Group","parameters":{"sizeMode":"contentHeight","borderStyle":"none","borderColor":"Depressive Blue","borderWidth":{"value":1,"unit":"px"},"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Depressive Blue","borderTopStyle":"solid","borderTopWidth":{"value":1,"unit":"px"},"borderTopColor":"Depressive Blue"},"ports":[],"children":[{"id":"f1267531-dc42-c66e-f9a0-9541eed76f2d","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"none","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Deep Blue","backgroundColor":"Deep Blue"},"ports":[],"children":[{"id":"bc60311e-0033-e7a4-631a-480aab33d553","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 ","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"7e9f6d00-a664-aced-414d-42fd68e2f9b4","type":"Text","parameters":{"sizeMode":"explicit","text":"TOTAL (IAP)","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"1f4c2f8a-8fd1-7057-a45c-fa1d753775e2","type":"Text","parameters":{"sizeMode":"explicit","text":"TOTAL (POA)","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"ce37e89d-aed1-f647-23ba-9b4785e368d1","type":"Text","parameters":{"sizeMode":"explicit","text":"CREDITED EXTENSION POINTS","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"8e501903-5549-417b-99a9-c3e7e23b2ddc","type":"Text","parameters":{"sizeMode":"explicit","text":"CREDITED MERIT POINTS","color":"Selection Yellow","textAlignX":"left"},"ports":[],"children":[]}]}]},{"id":"cbbb07da-0917-1666-46c7-70bdc66c89da","type":"Group","parameters":{},"ports":[],"children":[{"id":"db12d5f7-07eb-9ec4-54ed-7c138005a985","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 ","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"21223d43-c277-6bb3-45ba-3161b14addbf","type":"Text","parameters":{"sizeMode":"explicit","text":"0","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"30bedd5e-14d6-803d-461c-f9b324e5ee39","type":"Text","parameters":{"sizeMode":"explicit","text":"0","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"b376bfed-cb87-5150-5fbe-7bcd87b910c5","type":"Text","parameters":{"sizeMode":"explicit","text":"0","color":"Selection Yellow"},"ports":[],"children":[]},{"id":"3c140248-a55b-5fb9-fb47-601b07165be8","type":"Text","parameters":{"sizeMode":"explicit","text":"0","color":"Selection Yellow","textAlignX":"left"},"ports":[],"children":[]}]}]}]},{"id":"2f22a186-023b-2450-45c2-031d4efa8c1a","type":"Group","parameters":{"marginTop":{"value":24,"unit":"px"}},"ports":[],"children":[{"id":"284e7421-177e-c2a8-939a-e090de5a5e99","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"none","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Deep Blue","backgroundColor":"Deep Blue"},"ports":[],"children":[{"id":"eaa2acf5-8e25-9b8a-6835-0a87af6c8576","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 ","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"b0ae1960-b103-f15a-b16c-334363bbadd3","type":"Text","parameters":{"sizeMode":"contentSize","text":"NAME","color":"Grey - 400"},"ports":[],"children":[]},{"id":"9cdea5b8-2392-5af2-69ef-6e8b5394fa5b","type":"Text","parameters":{"sizeMode":"contentSize","text":"NOI","color":"Grey - 400"},"ports":[],"children":[]},{"id":"59b9262e-37a6-1f5e-e88f-fc8b921d74dc","type":"Text","parameters":{"sizeMode":"contentSize","text":"POINTS","color":"Grey - 400"},"ports":[],"children":[]},{"id":"85e04dbc-2a85-2cc2-e58a-29cea1bdb667","type":"Text","parameters":{"sizeMode":"contentSize","text":"ACTION","color":"Grey - 400","textAlignX":"left"},"ports":[],"children":[]}]}]},{"id":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","type":"For Each","parameters":{"template":"/Reporting_Admin/Reporting_Admin_Record_Item"},"ports":[],"children":[]},{"id":"6c8f516c-6103-5b1a-bb35-f7283bcbd5ff","type":"Group","parameters":{"sizeMode":"contentSize","paddingTop":{"value":25,"unit":"px"},"paddingBottom":{"value":25,"unit":"px"},"alignX":"center"},"ports":[],"children":[{"id":"65e6ebe8-6173-8aae-d8c8-2826acc45b47","type":"Text","parameters":{"text":"no records found","color":"Grey - 400","textTransform":"uppercase","textAlignX":"center","mounted":true},"ports":[],"children":[]}]}]}]}]}]}]},{"id":"74736182-4908-a324-7cca-1c1333da45e1","type":"/Dashboard_Admin/ConfirmBox","parameters":{},"ports":[],"children":[]},{"id":"8277a92b-57a2-9ed2-3815-6b749d0a516c","type":"/Dashboard_Admin/ConfirmBox","parameters":{"Header":"Remove Participation","Message":"Are you sure you would like to delete this participation? This cannot be undone.","ConfirmMessage":"Yes delete it."},"ports":[],"children":[]},{"id":"80b35325-f6d7-119a-2c6c-050fdc8c201b","type":"/Reporting_Admin/Noi_Confirm","parameters":{},"ports":[],"children":[]}]},{"id":"98bde8e7-53e4-4293-4735-23650c6607b4","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"922e4322-049a-2469-8e72-ce31db09ad7a","type":"/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"c4cbc9c5-a751-fdb4-74f8-2754644d8349","type":"/Show Toast","parameters":{"Message":"Search Finished!","Type":"Success"},"ports":[],"children":[]},{"id":"0b6e4a6d-b424-455d-73e5-d1dfb0b00081","type":"/Show Toast","parameters":{"Message":"Searching..."},"ports":[],"children":[]},{"id":"b070a7e2-d634-d2d2-3ebf-f16c426a3f4a","type":"/Show Toast","parameters":{"Message":"Search cannot be empty.","Type":"Error"},"ports":[],"children":[]},{"id":"b4b144ba-2c29-769f-b21d-2ea685930712","type":"JavaScriptFunction","parameters":{"functionScript":"const keyword = Inputs.keyword || '';\r\n\r\n//Blank chcker\r\n// if (keyword === null || keyword.trim() === \"\"){\r\n//     Outputs.Error = \"Search is empty.\"\r\n//     Outputs.Failure();\r\n//     return;\r\n// }\r\n\r\ntry {\r\n  if (keyword === null || keyword.trim() === \"\"){\r\n    const { data, error1 } = await Noodl.Variables.supabase.from('profiles')\r\n    .select('*')\r\n    .eq('is_active', true)\r\n    .order('updated_at', { ascending: false });\r\n    if (data){\r\n      console.log(data);\r\n      setJson(data);\r\n    }\r\n    if (error){\r\n      console.log(error);\r\n    }\r\n    return;\r\n  }\r\n  // Check last_name\r\n  const { data, error1 } = await Noodl.Variables.supabaselocal.from('profiles')\r\n  .select('*')\r\n  .eq('user_id', keyword)\r\n  .eq('is_active', true)\r\n  .order('updated_at', { ascending: false });\r\n\r\n\r\n  if (data){\r\n    console.log(data);\r\n    setJson(data);\r\n  }\r\n  if (error){\r\n    console.log(error);\r\n  }\r\n\r\n} catch (error) {\r\n  return;\r\n}\r\n\r\nfunction setJson(data){\r\n\r\n  const jsonArray = [];\r\n    if(data){\r\n      data.forEach(row => {\r\n        const jsonRow = {\r\n          Id: row.id,\r\n          Updated_at: row.updated_at,\r\n          User_id: row.user_id,\r\n          First_Name: row.first_name,\r\n          Last_Name: row.last_name\r\n        };\r\n        jsonArray.push(jsonRow);\r\n      });\r\n    }\r\n\r\n    // Output the JSON array\r\n    Outputs.JsonArray = jsonArray;\r\n    console.log(\"[fetch participation Success] : \", jsonArray);\r\n    Outputs.Success();\r\n\r\n}"},"ports":[{"name":"in-keyword","displayName":"keyword","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-JsonArray","displayName":"JsonArray","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"f9921e62-025b-361d-4362-e11439e62a95","type":"Text","parameters":{"color":"Grey - 400","text":"PLACEHOLDER"},"ports":[],"children":[]},{"id":"6143a914-4989-bd9c-e61e-cdd18b7d128b","type":"/Reporting_Admin/Reporting_Admin_Record_Item","parameters":{},"ports":[],"children":[]},{"id":"ef5e10bd-e29d-9d78-77a0-4ba09e893457","type":"/Reporting_Admin/Reporting_Admin_Record_Item","parameters":{},"ports":[],"children":[]},{"id":"c3695c7b-5007-b820-59f5-bac18cc1f636","type":"JavaScriptFunction","parameters":{"functionScript":"let userid = Inputs.userid || '';\r\nconst archived = true;\r\n\r\ntry {\r\n\r\n  const { data, error } = await Noodl.Variables.supabaselocal.from('participation')\r\n  .select('*')\r\n  .eq('user_id', userid)\r\n  .is('is_verified', true)\r\n  .order('created_at', { ascending: false })\r\n  ;\r\n\r\n  const jsonArray = [];\r\n  if(data){\r\n    data.forEach(row => {\r\n      const jsonRow = {\r\n        Id: row.id,\r\n        Created_at: row.created_at,\r\n        User_id: row.user_id,\r\n        Activity_id: row.activity_id,\r\n        Noi_id: row.noi_id,\r\n        Is_institutional: row.is_institutional,\r\n        Is_verified: row.is_verified,\r\n        Schoolyear: row.schoolyear,\r\n        Is_active: row.is_active\r\n      };\r\n      jsonArray.push(jsonRow);\r\n    });\r\n  } else {\r\n    Outputs.DataisNull();\r\n  }\r\n  // Iterate through the rows and assign 'desc' to 'Label' and 'id' to 'Value'\r\n  if (error){\r\n    console.log(error);\r\n  }\r\n  \r\n  // Output the JSON array\r\n  Outputs.JsonArray = jsonArray;\r\n  console.log(\"[fetch participation Success] : \", jsonArray);\r\n  Outputs.Success();\r\n\r\n  \r\n} catch (error) {\r\n  console.log(\"getParticipations: ERROR : \", error);\r\n  Outputs.Error = error;\r\n  Outputs.Failure();\r\n  return;\r\n}\r\n"},"ports":[{"name":"in-userid","displayName":"userid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DataisNull","displayName":"DataisNull","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-JsonArray","displayName":"JsonArray","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"b5f5e5c8-3fea-ed1b-819e-6d92fbe78a5e","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst id = Inputs.Id || '';\r\nif (!id) {\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nconst supabase = Noodl.Variables.supabase;\r\nif (!supabase) {\r\n    throw new Error('Supabase client not available');\r\n    return;\r\n}\r\n\r\ntry {\r\n    const { data, error } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n    if (error) {\r\n        throw new Error(error.message);\r\n    }\r\n\r\n    if (data) {\r\n        Outputs.Data = data;\r\n        Outputs.Success();\r\n    } else {\r\n        Outputs.Failure();\r\n    }\r\n} catch (error) {\r\n    Outputs.Error = error.message;\r\n    Outputs.Failure();\r\n}\r\n\r\n"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"555c5c12-ed8f-fc11-6165-0685c65fa664","type":"Model2","parameters":{"properties":"first_name,last_name,is_phd"},"ports":[],"children":[]},{"id":"6b84f7a6-0087-3c99-6aa4-3aacc4fdc7c1","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Name = Inputs.fname + \", \" + Inputs.lname;"},"ports":[{"name":"in-fname","displayName":"fname","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-lname","displayName":"lname","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Name","displayName":"Name","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"6cc79e68-2abe-0a54-dcd2-b483185c6309","type":"/Show Toast","parameters":{"Type":"Success","Message":"Finished Loading!"},"ports":[],"children":[]},{"id":"b436d0ac-fc76-7f01-6328-c2435b5fd7fa","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.IsNull = isEmpty(Inputs.Json);\r\n\r\n\r\n\r\nfunction isEmpty(json) {\r\n    return Object.keys(json).length === 0;\r\n}"},"ports":[{"name":"in-Json","displayName":"Json","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-IsNull","displayName":"IsNull","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"985f2cb3-f977-b2ad-9493-fff961223aff","type":"JavaScriptFunction","parameters":{"functionScript":"\n// Check if the supabase client is available\nif (!Noodl.Variables.supabaselocal) {\n    throw new Error('Supabase client is not available');\n}\n\n// Get the id from the input\nconst id = Inputs.Id;\nif (!id) {\n    throw new Error('Id is missing');\n}\n\n// Delete the record from the \"participation\" table using the id\nNoodl.Variables.supabaselocal\n    .from('participation')\n    .delete()\n    .eq('id', id)\n    .then(response => {\n        // Check if the record was successfully deleted\n        if (response.error) {\n            throw new Error(response.error.message || 'Failed to delete record');\n        }\n        Outputs.Success();\n    })\n    .catch(error => {\n        Outputs.error = error.message || 'An error occurred while deleting the record';\n        Outputs.Failure();\n    });\n"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"2f0381c6-66b1-3967-6a35-dc9b6fb4c457","type":"/Show Toast","parameters":{"Message":"Deleting..."},"ports":[],"children":[]},{"id":"fb030e4b-de4d-d67b-d664-8f0cb7f35787","type":"/Show Toast","parameters":{"Message":"Participation Deleted!","Type":"Success"},"ports":[],"children":[]},{"id":"dd70494c-86b0-9ad6-ac38-5a4a6a66722a","type":"JavaScriptFunction","parameters":{"functionScript":"const act_id = Inputs.Id;"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]},{"id":"53b9892e-b032-c727-728d-f372ef8696a2","type":"JavaScriptFunction","parameters":{"functionScript":"try {\r\n  // Retrieve records from the 'categories' table\r\n  const {data, error} = await Noodl.Variables.supabaselocal.from('noi')\r\n  .select('id, desc'); // Retrieve records from the 'categories' table\r\n\r\n  // Create a JSON array to store the rows\r\n  const jsonArray = [];\r\n\r\n  // Iterate through the rows and assign 'desc' to 'Label' and 'id' to 'Value'\r\n  data.forEach(row => {\r\n    const jsonRow = {\r\n      Label: row.desc,\r\n      Value: row.id\r\n    };\r\n    jsonArray.push(jsonRow);\r\n  });\r\n\r\n  // Output the JSON array\r\n  Outputs.JsonArray = jsonArray;\r\n  Outputs.IsDone = true;\r\n  Outputs.Success();\r\n  \r\n} catch (error) {\r\n  console.log(\"getActivities: ERROR : \", error);\r\n  Outputs.Error = error;\r\n  Outputs.IsDone = false;\r\n  Outputs.Failure();\r\n  return;\r\n}\r\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-JsonArray","displayName":"JsonArray","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-IsDone","displayName":"IsDone","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"197240f1-bc2a-d96e-9033-6a7de5d5e337","type":"Model2","parameters":{"modelId":"Points","properties":"totalpoints"},"ports":[],"children":[]},{"id":"eabe07c4-418c-4a97-494a-a78dc5785bd2","type":"JavaScriptFunction","parameters":{"functionScript":"async function calculateTotalPoints(jsonArray) {\r\n    var totalPoints = 0;\r\n\r\n    // Iterate over each object in the JSON array\r\n    for (const obj of jsonArray) {\r\n        const noiId = obj.Noi_id;\r\n\r\n        // Retrieve 'points' and 'desc' column values from Supabase using the value of \"Noi_id\"\r\n        const { data, error1 } = await Noodl.Variables.supabaselocal\r\n            .from('noi')\r\n            .select('desc, points')\r\n            .eq('id', noiId)\r\n            .neq('desc', 'Donor')\r\n\r\n        console.log(\"PEEKING Everything: \", data);        \r\n\r\n        if (data) {\r\n        // Calculate the total points\r\n            for (const entry of data) {\r\n                totalPoints += entry.points;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return totalPoints;\r\n}\r\n\r\nlet jsonArray = Inputs.jsonArray;\r\n// Calculate the total points\r\ncalculateTotalPoints(jsonArray)\r\n    .then(totalPoints => {\r\n        // Output the total points\r\n        console.log(\"Total points:\", totalPoints);\r\n        Outputs.totpts = totalPoints;\r\n    })\r\n    .catch(error => {\r\n        console.error('Error calculating total points:', error);\r\n    });"},"ports":[{"name":"in-jsonArray","displayName":"jsonArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-totpts","displayName":"totpts","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"bca9d65b-4cc9-8b3f-1983-fc2c4b856e29","type":"JavaScriptFunction","parameters":{"functionScript":"async function calculateTotalPoints(jsonArray) {\r\n    var totalPoints = 0;\r\n    var donatorCount = 0;\r\n    // Iterate over each object in the JSON array\r\n    for (const obj of jsonArray) {\r\n        const noiId = obj.Noi_id;\r\n\r\n        // Retrieve 'points' and 'desc' column values from Supabase using the value of \"Noi_id\"\r\n        const { data, error1 } = await Noodl.Variables.supabaselocal\r\n            .from('noi')\r\n            .select('desc, points')\r\n            .eq('id', noiId)\r\n\r\n        console.log(\"PEEKING Everything: \", data);        \r\n\r\n        if (data) {\r\n        // Calculate the total points\r\n            for (const entry of data) {\r\n                if (entry.desc === 'Donor' && donatorCount < 4){\r\n                    totalPoints += entry.points;\r\n                    donatorCount++;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return totalPoints;\r\n}\r\n\r\nlet jsonArray = Inputs.jsonArray;\r\n// Calculate the total points\r\ncalculateTotalPoints(jsonArray)\r\n    .then(totalPoints => {\r\n        // Output the total points\r\n        console.log(\"Total points:\", totalPoints);\r\n        Outputs.totpts = totalPoints;\r\n    })\r\n    .catch(error => {\r\n        console.error('Error calculating total points:', error);\r\n    });"},"ports":[{"name":"in-jsonArray","displayName":"jsonArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-totpts","displayName":"totpts","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"41932831-ccbd-cb7a-47e3-2d925ddcb029","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.total = Inputs.First + Inputs.Second;"},"ports":[{"name":"in-First","displayName":"First","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Second","displayName":"Second","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-total","displayName":"total","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"05d2e32c-ab7e-132b-afdc-0f61a1e4ca1b","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.total = Inputs.institutional + Inputs.personal;"},"ports":[{"name":"in-institutional","displayName":"institutional","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-personal","displayName":"personal","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-total","displayName":"total","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"328c4b26-4792-879d-cb21-2b30905092ce","type":"Variable2","parameters":{"name":"total"},"ports":[],"children":[]},{"id":"08d8d315-660e-f746-b978-ced78d041e7b","type":"JavaScriptFunction","parameters":{"functionScript":"const total = Inputs.total;\r\nconst is_phd = Inputs.is_phd;\r\n\r\nif (is_phd){\r\n    if (total <= 5) {\r\n    Outputs.total = total;\r\n    }\r\n    else if (total >= 5) {\r\n        Outputs.total = 5;\r\n    }\r\n}\r\nelse {\r\n    if (total <= 10) {\r\n    Outputs.total = total;\r\n    }\r\n    else if (total >= 10) {\r\n        Outputs.total = 10;\r\n    }\r\n}\r\n\r\n"},"ports":[{"name":"in-total","displayName":"total","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-is_phd","displayName":"is_phd","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-total","displayName":"total","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"92632ea0-e9a8-cd0f-4de2-ae0ca08d77d5","type":"JavaScriptFunction","parameters":{"functionScript":"const total = Inputs.total;\r\nconst extpst = Inputs.extpst;\r\nOutputs.percentile = (total - extpst)/10;"},"ports":[{"name":"in-total","displayName":"total","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-extpst","displayName":"extpst","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-percentile","displayName":"percentile","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"7cfb1da3-d98c-e44b-106b-fdf4e0f0715c","type":"JavaScriptFunction","parameters":{"functionScript":"const percentile = Inputs.percentile;\r\nconst is_phd = Inputs.is_phd;\r\n\r\nif (percentile<=2.5){\r\n    Outputs.merit = percentile;\r\n}\r\nelse if (percentile > 2.5){\r\n    Outputs.merit = 2.5;\r\n}"},"ports":[{"name":"in-percentile","displayName":"percentile","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-is_phd","displayName":"is_phd","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-merit","displayName":"merit","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"b4b144ba-2c29-769f-b21d-2ea685930712","sourcePort":"out-Success","targetId":"c4cbc9c5-a751-fdb4-74f8-2754644d8349","targetPort":"Do"},{"sourceId":"b4b144ba-2c29-769f-b21d-2ea685930712","sourcePort":"out-Error","targetId":"b070a7e2-d634-d2d2-3ebf-f16c426a3f4a","targetPort":"Message"},{"sourceId":"b4b144ba-2c29-769f-b21d-2ea685930712","sourcePort":"out-Failure","targetId":"b070a7e2-d634-d2d2-3ebf-f16c426a3f4a","targetPort":"Do"},{"sourceId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","sourcePort":"itemOutput-Id","targetId":"922e4322-049a-2469-8e72-ce31db09ad7a","targetPort":"Message"},{"sourceId":"b4b144ba-2c29-769f-b21d-2ea685930712","sourcePort":"out-JsonArray","targetId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","targetPort":"items"},{"sourceId":"ae26bb9c-527e-67ff-660c-5eac128c01a6","sourcePort":"onClick","targetId":"0b6e4a6d-b424-455d-73e5-d1dfb0b00081","targetPort":"Do"},{"sourceId":"ae26bb9c-527e-67ff-660c-5eac128c01a6","sourcePort":"onClick","targetId":"b4b144ba-2c29-769f-b21d-2ea685930712","targetPort":"run"},{"sourceId":"1b97d1ff-ad0c-e9cc-2df1-38fdd46bc20f","sourcePort":"onTextChanged","targetId":"b4b144ba-2c29-769f-b21d-2ea685930712","targetPort":"in-keyword"},{"sourceId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","sourcePort":"itemOutputSignal-Click","targetId":"c3695c7b-5007-b820-59f5-bac18cc1f636","targetPort":"run"},{"sourceId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","sourcePort":"itemOutput-Id","targetId":"c3695c7b-5007-b820-59f5-bac18cc1f636","targetPort":"in-userid"},{"sourceId":"c3695c7b-5007-b820-59f5-bac18cc1f636","sourcePort":"out-JsonArray","targetId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","targetPort":"items"},{"sourceId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","sourcePort":"itemOutput-Id","targetId":"b5f5e5c8-3fea-ed1b-819e-6d92fbe78a5e","targetPort":"in-Id"},{"sourceId":"b1cdc167-c915-3f7f-ff05-4893ab0165a9","sourcePort":"itemOutputSignal-Click","targetId":"b5f5e5c8-3fea-ed1b-819e-6d92fbe78a5e","targetPort":"run"},{"sourceId":"b5f5e5c8-3fea-ed1b-819e-6d92fbe78a5e","sourcePort":"out-Data","targetId":"555c5c12-ed8f-fc11-6165-0685c65fa664","targetPort":"modelId"},{"sourceId":"555c5c12-ed8f-fc11-6165-0685c65fa664","sourcePort":"prop-first_name","targetId":"6b84f7a6-0087-3c99-6aa4-3aacc4fdc7c1","targetPort":"in-fname"},{"sourceId":"555c5c12-ed8f-fc11-6165-0685c65fa664","sourcePort":"prop-last_name","targetId":"6b84f7a6-0087-3c99-6aa4-3aacc4fdc7c1","targetPort":"in-lname"},{"sourceId":"6b84f7a6-0087-3c99-6aa4-3aacc4fdc7c1","sourcePort":"out-Name","targetId":"6a267d33-94db-ab80-3898-dce4ce046c4f","targetPort":"text"},{"sourceId":"c3695c7b-5007-b820-59f5-bac18cc1f636","sourcePort":"out-Success","targetId":"6cc79e68-2abe-0a54-dcd2-b483185c6309","targetPort":"Do"},{"sourceId":"c3695c7b-5007-b820-59f5-bac18cc1f636","sourcePort":"out-JsonArray","targetId":"b436d0ac-fc76-7f01-6328-c2435b5fd7fa","targetPort":"in-Json"},{"sourceId":"b436d0ac-fc76-7f01-6328-c2435b5fd7fa","sourcePort":"out-IsNull","targetId":"6c8f516c-6103-5b1a-bb35-f7283bcbd5ff","targetPort":"mounted"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutputSignal-Click_Remove","targetId":"8277a92b-57a2-9ed2-3815-6b749d0a516c","targetPort":"Click"},{"sourceId":"8277a92b-57a2-9ed2-3815-6b749d0a516c","sourcePort":"ConfirmClick","targetId":"985f2cb3-f977-b2ad-9493-fff961223aff","targetPort":"run"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutput-Id","targetId":"985f2cb3-f977-b2ad-9493-fff961223aff","targetPort":"in-Id"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutputSignal-Click_Remove","targetId":"2f0381c6-66b1-3967-6a35-dc9b6fb4c457","targetPort":"Do"},{"sourceId":"985f2cb3-f977-b2ad-9493-fff961223aff","sourcePort":"out-Success","targetId":"fb030e4b-de4d-d67b-d664-8f0cb7f35787","targetPort":"Do"},{"sourceId":"985f2cb3-f977-b2ad-9493-fff961223aff","sourcePort":"out-Success","targetId":"c3695c7b-5007-b820-59f5-bac18cc1f636","targetPort":"run"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutputSignal-Click_Modify","targetId":"80b35325-f6d7-119a-2c6c-050fdc8c201b","targetPort":"Click"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutput-noi_obj","targetId":"80b35325-f6d7-119a-2c6c-050fdc8c201b","targetPort":"Noi_obj"},{"sourceId":"80b35325-f6d7-119a-2c6c-050fdc8c201b","sourcePort":"Success","targetId":"c3695c7b-5007-b820-59f5-bac18cc1f636","targetPort":"run"},{"sourceId":"1ecb27ea-9197-67bc-335f-e3f0341f29cd","sourcePort":"itemOutput-Id","targetId":"80b35325-f6d7-119a-2c6c-050fdc8c201b","targetPort":"Id"},{"sourceId":"c3695c7b-5007-b820-59f5-bac18cc1f636","sourcePort":"out-JsonArray","targetId":"eabe07c4-418c-4a97-494a-a78dc5785bd2","targetPort":"in-jsonArray"},{"sourceId":"c3695c7b-5007-b820-59f5-bac18cc1f636","sourcePort":"out-JsonArray","targetId":"bca9d65b-4cc9-8b3f-1983-fc2c4b856e29","targetPort":"in-jsonArray"},{"sourceId":"eabe07c4-418c-4a97-494a-a78dc5785bd2","sourcePort":"out-totpts","targetId":"41932831-ccbd-cb7a-47e3-2d925ddcb029","targetPort":"in-First"},{"sourceId":"bca9d65b-4cc9-8b3f-1983-fc2c4b856e29","sourcePort":"out-totpts","targetId":"41932831-ccbd-cb7a-47e3-2d925ddcb029","targetPort":"in-Second"},{"sourceId":"41932831-ccbd-cb7a-47e3-2d925ddcb029","sourcePort":"out-total","targetId":"21223d43-c277-6bb3-45ba-3161b14addbf","targetPort":"text"},{"sourceId":"05d2e32c-ab7e-132b-afdc-0f61a1e4ca1b","sourcePort":"out-total","targetId":"328c4b26-4792-879d-cb21-2b30905092ce","targetPort":"value"},{"sourceId":"328c4b26-4792-879d-cb21-2b30905092ce","sourcePort":"value","targetId":"08d8d315-660e-f746-b978-ced78d041e7b","targetPort":"in-total"},{"sourceId":"41932831-ccbd-cb7a-47e3-2d925ddcb029","sourcePort":"out-total","targetId":"328c4b26-4792-879d-cb21-2b30905092ce","targetPort":"value"},{"sourceId":"08d8d315-660e-f746-b978-ced78d041e7b","sourcePort":"out-total","targetId":"b376bfed-cb87-5150-5fbe-7bcd87b910c5","targetPort":"text"},{"sourceId":"08d8d315-660e-f746-b978-ced78d041e7b","sourcePort":"out-total","targetId":"92632ea0-e9a8-cd0f-4de2-ae0ca08d77d5","targetPort":"in-extpst"},{"sourceId":"328c4b26-4792-879d-cb21-2b30905092ce","sourcePort":"value","targetId":"92632ea0-e9a8-cd0f-4de2-ae0ca08d77d5","targetPort":"in-total"},{"sourceId":"92632ea0-e9a8-cd0f-4de2-ae0ca08d77d5","sourcePort":"out-percentile","targetId":"7cfb1da3-d98c-e44b-106b-fdf4e0f0715c","targetPort":"in-percentile"},{"sourceId":"7cfb1da3-d98c-e44b-106b-fdf4e0f0715c","sourcePort":"out-merit","targetId":"3c140248-a55b-5fb9-fb47-601b07165be8","targetPort":"text"},{"sourceId":"555c5c12-ed8f-fc11-6165-0685c65fa664","sourcePort":"prop-is_phd","targetId":"08d8d315-660e-f746-b978-ced78d041e7b","targetPort":"in-is_phd"}],"ports":[],"roots":["53c40b64-c1d2-8c6b-b4be-fb1e95533578","f9921e62-025b-361d-4362-e11439e62a95","6143a914-4989-bd9c-e61e-cdd18b7d128b","ef5e10bd-e29d-9d78-77a0-4ba09e893457"]},{"name":"/Reporting_Admin/Reporting_Admin_Record_Item","nodes":[{"id":"38a3329c-7280-0b70-d20f-5183f81b0055","type":"Group","parameters":{"sizeMode":"contentHeight","marginTop":{"value":5,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","borderTopStyle":"solid","borderTopWidth":{"value":1,"unit":"px"},"borderTopColor":"Depressive Blue"},"ports":[],"children":[{"id":"cf3b1c0d-6261-3a9f-f6ae-5ac7b1851bfc","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 "},"ports":[],"children":[{"id":"be1fe576-2ea8-05d0-4552-21d7e4db8662","type":"Text","parameters":{"sizeMode":"contentHeight","text":"####","color":"Primary Light","wordBreak":"normal"},"ports":[],"children":[]},{"id":"00fa0850-0b4c-9f14-44fd-d76b517a4c70","type":"Text","parameters":{"sizeMode":"contentHeight","text":"####","color":"Primary Light"},"ports":[],"children":[]},{"id":"19a2c675-e835-7c76-01de-24ef50660de3","type":"Text","parameters":{"sizeMode":"contentHeight","text":"#","color":"Primary Light"},"ports":[],"children":[]},{"id":"20d71b37-2c4b-b4f5-15fb-745e6d979238","type":"Group","parameters":{},"ports":[],"children":[{"id":"c090ed4d-7cbc-f73d-20c6-2fe00833c858","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentHeight","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"label":"MODIFY","alignX":"center","backgroundColor":"Success","boxShadowEnabled":false,"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue"},"ports":[],"children":[]},{"id":"397616a8-90e1-445c-f297-3efa16c52f1a","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentHeight","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"label":"DELETE","alignX":"center","backgroundColor":"Baby barf green","boxShadowEnabled":false,"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"marginTop":{"value":5,"unit":"px"},"borderColor":"Depressive Blue"},"ports":[],"children":[]}]}]}]},{"id":"18eb9dad-b690-70e5-1843-775c8f175970","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d7b2ee64-87d8-b8cf-efd2-cae23d2f446a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"8799d0e9-c20a-dd2d-39e1-3bceddad2dab","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst id = Inputs.Id || '';\r\nif (!id) {\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nconst supabase = Noodl.Variables.supabaselocal;\r\nif (!supabase) {\r\n    throw new Error('Supabase client not available');\r\n}\r\n\r\nconst fetchProfile = async () => {\r\n    try {\r\n        const { data, error } = await supabase\r\n            .from('activities')\r\n            .select('*')\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        if (data && data.length > 0) {\r\n            Outputs.Data = data[0];\r\n            Outputs.Success();\r\n        } else {\r\n            Outputs.Failure();\r\n        }\r\n    } catch (error) {\r\n        Outputs.Error = error.message;\r\n        Outputs.Failure();\r\n    }\r\n};\r\n\r\nfetchProfile();\r\n"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"2b976814-1281-aaf5-2d33-1badeba2bb05","type":"Model2","parameters":{"properties":"desc"},"ports":[],"children":[]},{"id":"06a261f6-e55d-3296-c32d-e651e4f52296","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst id = Inputs.Id || '';\r\nif (!id) {\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nconst supabase = Noodl.Variables.supabaselocal;\r\nif (!supabase) {\r\n    throw new Error('Supabase client not available');\r\n}\r\n\r\nconst fetchProfile = async () => {\r\n    try {\r\n        const { data, error } = await supabase\r\n            .from('noi')\r\n            .select('*')\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        if (data && data.length > 0) {\r\n            Outputs.Data = data[0];\r\n            Outputs.Success();\r\n        } else {\r\n            Outputs.Failure();\r\n        }\r\n    } catch (error) {\r\n        Outputs.Error = error.message;\r\n        Outputs.Failure();\r\n    }\r\n};\r\n\r\nfetchProfile();\r\n"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"8b4ba78b-1f3c-5075-bfdc-e2e7331161cb","type":"Model2","parameters":{"properties":"desc,points"},"ports":[],"children":[]}],"connections":[{"sourceId":"397616a8-90e1-445c-f297-3efa16c52f1a","sourcePort":"onClick","targetId":"18eb9dad-b690-70e5-1843-775c8f175970","targetPort":"Click_Remove"},{"sourceId":"d7b2ee64-87d8-b8cf-efd2-cae23d2f446a","sourcePort":"Activity_id","targetId":"8799d0e9-c20a-dd2d-39e1-3bceddad2dab","targetPort":"in-Id"},{"sourceId":"2b976814-1281-aaf5-2d33-1badeba2bb05","sourcePort":"prop-desc","targetId":"be1fe576-2ea8-05d0-4552-21d7e4db8662","targetPort":"text"},{"sourceId":"d7b2ee64-87d8-b8cf-efd2-cae23d2f446a","sourcePort":"Noi_id","targetId":"06a261f6-e55d-3296-c32d-e651e4f52296","targetPort":"in-Id"},{"sourceId":"8799d0e9-c20a-dd2d-39e1-3bceddad2dab","sourcePort":"out-Data","targetId":"2b976814-1281-aaf5-2d33-1badeba2bb05","targetPort":"modelId"},{"sourceId":"06a261f6-e55d-3296-c32d-e651e4f52296","sourcePort":"out-Data","targetId":"8b4ba78b-1f3c-5075-bfdc-e2e7331161cb","targetPort":"modelId"},{"sourceId":"8b4ba78b-1f3c-5075-bfdc-e2e7331161cb","sourcePort":"prop-desc","targetId":"00fa0850-0b4c-9f14-44fd-d76b517a4c70","targetPort":"text"},{"sourceId":"8b4ba78b-1f3c-5075-bfdc-e2e7331161cb","sourcePort":"prop-points","targetId":"19a2c675-e835-7c76-01de-24ef50660de3","targetPort":"text"},{"sourceId":"d7b2ee64-87d8-b8cf-efd2-cae23d2f446a","sourcePort":"Id","targetId":"18eb9dad-b690-70e5-1843-775c8f175970","targetPort":"Id"},{"sourceId":"c090ed4d-7cbc-f73d-20c6-2fe00833c858","sourcePort":"onClick","targetId":"18eb9dad-b690-70e5-1843-775c8f175970","targetPort":"Click_Modify"},{"sourceId":"06a261f6-e55d-3296-c32d-e651e4f52296","sourcePort":"out-Data","targetId":"18eb9dad-b690-70e5-1843-775c8f175970","targetPort":"noi_obj"}],"ports":[{"name":"Click_Remove","type":"signal","plug":"output","index":1},{"name":"Id","type":{"name":"*"},"plug":"input","index":1},{"name":"Click_Alter","type":"*","plug":"output","index":2},{"name":"User_id","type":"*","plug":"input","index":2},{"name":"Id","type":{"name":"*"},"plug":"output","index":3},{"name":"Activity_id","type":"*","group":"Inputs","plug":"input","index":3},{"name":"Click_Modify","type":"signal","plug":"output","index":4},{"name":"Noi_id","type":"*","group":"Inputs","plug":"input","index":4},{"name":"noi_obj","type":"*","plug":"output","index":5}],"roots":["38a3329c-7280-0b70-d20f-5183f81b0055"]},{"name":"/Reporting_Admin/Noi_Confirm","nodes":[{"id":"8141dfbe-4805-15f2-c288-a0999d9be609","type":"Group","parameters":{"position":"absolute","backgroundColor":"#00000033"},"ports":[],"children":[{"id":"dbd322fc-b905-5c64-9821-63aaea2ba665","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"center","alignY":"center","paddingLeft":{"value":30,"unit":"px"},"paddingTop":{"value":30,"unit":"px"},"paddingRight":{"value":30,"unit":"px"},"paddingBottom":{"value":30,"unit":"px"},"borderRadius":{"value":5,"unit":"px"},"backgroundColor":"Main Blue","borderStyle":"solid","borderColor":"Depressive Blue","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"b16c9808-edd3-24f2-6614-a946a24bb930","type":"Group","parameters":{},"ports":[],"children":[{"id":"6a4ece37-97ba-5cc0-fa71-b1853ceaee95","type":"Text","parameters":{"color":"Selection Yellow","text":"Change nature of participation","textStyle":"Title Medium"},"ports":[],"children":[]}]},{"id":"4065f255-ea2d-365e-8460-985b06276f85","type":"Group","parameters":{},"ports":[],"children":[{"id":"ed2ea5a5-23d8-3d81-8f37-160990983d9a","type":"Text","parameters":{"color":"Grey - 400","text":"Change the entry's nature of participation."},"ports":[],"children":[]},{"id":"2b5f9d31-175e-4923-c136-d3ad26a1d028","type":"net.noodl.controls.options","parameters":{"color":"Grey - 200","borderColor":"Depressive Blue","placeholder":"Select Involvement","labelcolor":"Selection Yellow","label":"Nature of Involvement","sizeMode":"explicit","width":{"value":100,"unit":"%","isFixed":false},"iconColor":"Grey - 600","textTransform":"none","fontSize":{"value":16,"unit":"px"},"height":{"value":55,"unit":"px"},"items":"[\n]","marginTop":{"value":24,"unit":"px"},"backgroundColor":"Deep Blue"},"ports":[],"children":[]}]},{"id":"83acef44-a6ec-a56f-7cb8-711432a49b56","type":"Group","parameters":{"flexDirection":"row","justifyContent":"space-between","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"02aee33f-994f-f376-b260-d2761403477e","type":"net.noodl.controls.button","parameters":{"label":"Cancel","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","backgroundColor":"Main Blue"},"ports":[],"children":[]},{"id":"95f3faea-ad8e-2bc9-0e2f-370e1314d8be","type":"net.noodl.controls.button","parameters":{"label":"Submit","backgroundColor":"Not-so Deep Blue","borderStyle":"solid","borderColor":"Depressive Blue","borderWidth":{"value":1,"unit":"px"},"sizeMode":"explicit","marginLeft":{"value":10,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"7f4515b5-d56a-5807-d653-fd2eb660d705","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6af6fd90-0bef-63c8-6c53-16cbda60c2c2","type":"States","parameters":{"states":"Show,Hide","values":"Mounted","type-Mounted":"boolean","value-Show-Mounted":true,"currentState":"Hide"},"ports":[],"children":[]},{"id":"6a887fc0-4adf-f154-11ad-5dc3df8b8d07","type":"Model2","parameters":{"properties":"desc"},"ports":[],"children":[]},{"id":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","type":"JavaScriptFunction","parameters":{"functionScript":"const Part_id = Inputs.Id;\r\nconst Noi_id = Inputs.Noi_id;\r\n\r\nconst { data, error } = await Noodl.Variables.supabaselocal\r\n    .from('participation')\r\n    .update({ noi_id: Noi_id })\r\n    .eq('id', Part_id)\r\n    .select()\r\n\r\nif (error){\r\n    console.log(\"Error updating to records : \", error)\r\n    Outputs.Failed();\r\n    return;\r\n} else {\r\n    Outputs.Success();\r\n    return;\r\n}"},"ports":[{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Noi_id","displayName":"Noi_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failed","displayName":"Failed","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7}],"children":[]},{"id":"670a07d1-9af2-48bc-e840-421584a42193","type":"JavaScriptFunction","parameters":{"functionScript":"try {\r\n  // Retrieve records from the 'categories' table\r\n  const {data, error} = await Noodl.Variables.supabaselocal.from('noi')\r\n  .select('id, desc'); // Retrieve records from the 'categories' table\r\n\r\n  // Create a JSON array to store the rows\r\n  const jsonArray = [];\r\n\r\n  // Iterate through the rows and assign 'desc' to 'Label' and 'id' to 'Value'\r\n  data.forEach(row => {\r\n    const jsonRow = {\r\n      Label: row.desc,\r\n      Value: row.id\r\n    };\r\n    jsonArray.push(jsonRow);\r\n  });\r\n\r\n  // Output the JSON array\r\n  Outputs.JsonArray = jsonArray;\r\n  Outputs.IsDone = true;\r\n  Outputs.Success();\r\n  \r\n} catch (error) {\r\n  console.log(\"getActivities: ERROR : \", error);\r\n  Outputs.Error = error;\r\n  Outputs.IsDone = false;\r\n  Outputs.Failure();\r\n  return;\r\n}\r\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-JsonArray","displayName":"JsonArray","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-IsDone","displayName":"IsDone","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"01905166-974d-fbf3-0aff-2708c469c00e","type":"/Show Toast","parameters":{"Type":"Error","Message":"Error updating"},"ports":[],"children":[]},{"id":"c9252b50-7922-20e4-3b12-f6f04e474541","type":"/Show Toast","parameters":{"Type":"Success","Message":"Nature of participation updated!"},"ports":[],"children":[]},{"id":"2205bd64-f96a-562e-a23c-755cb786e497","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"6af6fd90-0bef-63c8-6c53-16cbda60c2c2","sourcePort":"Mounted","targetId":"8141dfbe-4805-15f2-c288-a0999d9be609","targetPort":"mounted"},{"sourceId":"7f4515b5-d56a-5807-d653-fd2eb660d705","sourcePort":"Click","targetId":"6af6fd90-0bef-63c8-6c53-16cbda60c2c2","targetPort":"to-Show"},{"sourceId":"02aee33f-994f-f376-b260-d2761403477e","sourcePort":"onClick","targetId":"6af6fd90-0bef-63c8-6c53-16cbda60c2c2","targetPort":"to-Hide"},{"sourceId":"7f4515b5-d56a-5807-d653-fd2eb660d705","sourcePort":"Noi_obj","targetId":"6a887fc0-4adf-f154-11ad-5dc3df8b8d07","targetPort":"modelId"},{"sourceId":"6a887fc0-4adf-f154-11ad-5dc3df8b8d07","sourcePort":"prop-desc","targetId":"2b5f9d31-175e-4923-c136-d3ad26a1d028","targetPort":"placeholder"},{"sourceId":"7f4515b5-d56a-5807-d653-fd2eb660d705","sourcePort":"Id","targetId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","targetPort":"in-Id"},{"sourceId":"95f3faea-ad8e-2bc9-0e2f-370e1314d8be","sourcePort":"onClick","targetId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","targetPort":"run"},{"sourceId":"670a07d1-9af2-48bc-e840-421584a42193","sourcePort":"out-JsonArray","targetId":"2b5f9d31-175e-4923-c136-d3ad26a1d028","targetPort":"items"},{"sourceId":"2b5f9d31-175e-4923-c136-d3ad26a1d028","sourcePort":"value","targetId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","targetPort":"in-Noi_id"},{"sourceId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","sourcePort":"out-Failed","targetId":"01905166-974d-fbf3-0aff-2708c469c00e","targetPort":"Do"},{"sourceId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","sourcePort":"out-Success","targetId":"c9252b50-7922-20e4-3b12-f6f04e474541","targetPort":"Do"},{"sourceId":"c3547ca2-f89a-0cf5-17e8-e8debb4e9dce","sourcePort":"out-Success","targetId":"2205bd64-f96a-562e-a23c-755cb786e497","targetPort":"Success"},{"sourceId":"95f3faea-ad8e-2bc9-0e2f-370e1314d8be","sourcePort":"onClick","targetId":"6af6fd90-0bef-63c8-6c53-16cbda60c2c2","targetPort":"to-Hide"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":1},{"name":"Noi_obj","type":{"name":"string","identifierOf":"ModelName","identifierDisplayName":"Object Ids"},"group":"General","plug":"input","index":1},{"name":"Click","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":2},{"name":"Id","type":"*","group":"Inputs","plug":"input","index":3},{"name":"Success","type":"*","plug":"input","index":4}],"roots":["8141dfbe-4805-15f2-c288-a0999d9be609"]}]
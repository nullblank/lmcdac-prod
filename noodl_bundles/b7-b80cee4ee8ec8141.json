[{"name":"/Dashboard","nodes":[{"id":"73a69caf-3d68-5ae0-ebf3-2c570e65eff5","type":"Page","parameters":{},"ports":[],"children":[{"id":"ece97df9-b282-be54-888c-279a97342c92","type":"Group","parameters":{"position":"relative","backgroundColor":"transparent","mounted":true},"ports":[],"children":[{"id":"d1cc688c-a7bf-c5c1-ff7d-e182cb2c62d0","type":"Group","parameters":{"marginLeft":{"value":25,"unit":"px"},"marginRight":{"value":25,"unit":"px"},"marginTop":{"value":24,"unit":"px"},"marginBottom":{"value":25,"unit":"px"},"sizeMode":"explicit"},"ports":[],"children":[{"id":"4fa5bf67-b783-93c1-7223-4ccd85aaa24e","type":"Group","parameters":{"sizeMode":"contentHeight","paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Depressive Blue","flexDirection":"row","justifyContent":"space-between"},"ports":[],"children":[{"id":"e31a20eb-7ddf-87fd-271c-6ea5e183f2f1","type":"Text","parameters":{"text":"dashboard","color":"Selection Yellow","textStyle":"Title Large","sizeMode":"contentSize","marginBottom":{"value":2,"unit":"px"},"textTransform":"uppercase"},"ports":[],"children":[]},{"id":"f0180cbd-e3a5-7666-29d4-ff7480388fd8","type":"Text","parameters":{"text":"<String>","color":"Grey - 400","textStyle":"Body Medium","marginLeft":{"value":5,"unit":"px"},"textTransform":"uppercase","sizeMode":"contentSize","alignY":"center"},"ports":[],"children":[]}]},{"id":"1acb8a77-6253-555c-0bef-271e8501b29f","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center","paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"marginTop":{"value":24,"unit":"px"},"backgroundColor":"Not-so Deep Blue","borderRadius":{"value":5,"unit":"px"},"borderStyle":"solid","borderColor":"Depressive Blue","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":true,"boxShadowBlurRadius":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"946a3277-6026-67e4-00b6-65797cac1367","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","justifyContent":"space-between"},"ports":[],"children":[{"id":"7e9becc0-b878-0e7a-018f-70698799ec56","type":"Text","parameters":{"text":"Participation Records","color":"Selection Yellow","textStyle":"Title Large","textTransform":"uppercase","sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"83024cf4-0a3f-a7f1-6829-16e1eb177593","type":"Group","parameters":{"flexDirection":"row","justifyContent":"flex-end"},"ports":[],"children":[{"id":"db9da469-8eac-c4ef-b285-e07ce5714c76","type":"net.noodl.controls.button","parameters":{"label":"Submit Personal Participation","sizeMode":"contentSize","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"textTransform":"uppercase","useIcon":true,"iconIconSource":{"class":"material-icons","code":"drive_file_rename_outline","codeAsClass":false},"backgroundColor":"Main Blue","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue"},"ports":[],"children":[]},{"id":"d60cb620-d2df-a78b-8d22-5ad972e3ecb9","type":"net.noodl.controls.button","parameters":{"label":"Submit Institutional Participation","sizeMode":"contentSize","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"textTransform":"uppercase","useIcon":true,"iconIconSource":{"class":"material-icons","code":"add_to_photos","codeAsClass":false},"backgroundColor":"Main Blue","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","marginLeft":{"value":10,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"7ddd140b-c754-f3ed-0df7-d3c48875478f","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row"},"ports":[],"children":[{"id":"74414306-e106-6dd0-28a3-b62573b544eb","type":"Text","parameters":{"text":"Participation","color":"Grey - 200","sizeMode":"contentWidth"},"ports":[],"children":[]},{"id":"e9b8f916-fb3c-00d5-c1c2-aaa2a9942ff5","type":"Text","parameters":{"color":"Grey - 500","fontSize":{"value":16,"unit":"px"},"sizeMode":"explicit","text":"####","marginLeft":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"85660881-68ba-da4e-a363-0309ac52959f","type":"Text","parameters":{"text":"School Year","color":"Grey - 200","sizeMode":"contentWidth","marginLeft":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"95cdd6b5-7010-a072-bf5c-21768946f61a","type":"Text","parameters":{"color":"Grey - 500","fontSize":{"value":16,"unit":"px"},"sizeMode":"contentSize","text":"####","marginLeft":{"value":8,"unit":"px"}},"ports":[],"children":[]}]},{"id":"2da773dd-7302-cb0d-ab15-f70288b93487","type":"Group","parameters":{"marginTop":{"value":12,"unit":"px"},"backgroundColor":"transparent","boxShadowEnabled":false,"borderRadius":{"value":5,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"1397c633-14b8-1ccd-3062-3567a25fbd4b","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","backgroundColor":"Deep Blue","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"borderRadius":{"value":0,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","borderBottomStyle":"solid","borderTopLeftRadius":{"value":5,"unit":"px"},"borderTopRightRadius":{"value":5,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"baeb9cb7-7afd-804c-6a73-c6315cadb247","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 1 1","marginY":{"value":0,"unit":"px"},"marginX":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"258b3c7a-70fc-a07c-0165-be02cc497310","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Activity name","textAlignX":"left","width":{"value":109,"unit":"%"}},"ports":[],"children":[]},{"id":"70f92d20-75a6-a64d-81b4-d319a12d928a","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Nature of participation","textAlignX":"left"},"ports":[],"children":[]},{"id":"41f64d5c-cc06-1d7f-aba1-343309ea30c8","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Points","textAlignX":"left","width":{"value":50,"unit":"%"}},"ports":[],"children":[]},{"id":"7cb781b1-0201-b9b6-64de-2b4589cf4a18","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Status","textAlignX":"left","width":{"value":40,"unit":"%"}},"ports":[],"children":[]},{"id":"6af156fb-c066-1430-8c9f-638b915e56b1","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Date the entry was created","textAlignX":"left","width":{"value":100,"unit":"%"}},"ports":[],"children":[]},{"id":"95edef61-7198-70e7-dbfe-b05072f0453b","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"explicit","text":"Action","textAlignX":"center","marginRight":{"value":16,"unit":"px"},"marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"429d9c34-fc65-25d3-ff28-7fe37f9517b5","type":"For Each","parameters":{"template":"/Dashboard/Participation Item"},"ports":[],"children":[]}]},{"id":"c38909c7-db0e-01e7-b8c8-011999faca6f","type":"Group","parameters":{"sizeMode":"contentHeight","paddingTop":{"value":12,"unit":"px"},"marginTop":{"value":24,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"backgroundColor":"Deep Blue","borderRadius":{"value":5,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue"},"ports":[],"children":[{"id":"d8d44299-9690-c628-d384-952bb66f41af","type":"Text","parameters":{"color":"Selection Yellow","textAlignX":"center","text":"Loading records please wait..."},"ports":[],"children":[]}]}]}]}]},{"id":"2a85c5bd-71d2-1341-c625-942bc4ce4805","type":"Group","parameters":{"position":"absolute","backgroundColor":"#00000044","sizeMode":"explicit","mounted":false,"paddingLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"c372c2df-9810-44b4-4bda-e8d4e0cc7c0a","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"center","marginTop":{"value":26,"unit":"%"},"backgroundColor":"Main Blue","borderRadius":{"value":5,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","boxShadowEnabled":true,"boxShadowSpreadRadius":{"value":5,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"boxShadowOffsetX":{"value":2,"unit":"px"},"boxShadowBlurRadius":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"3870796d-7e11-4800-6ab4-e24ad185a248","type":"Group","parameters":{"marginLeft":{"value":28,"unit":"px"},"marginRight":{"value":28,"unit":"px"},"marginTop":{"value":24,"unit":"px"},"marginBottom":{"value":24,"unit":"px"}},"ports":[],"children":[{"id":"29a917cf-29c8-a785-7b65-d6e71e5f056d","type":"Group","parameters":{"marginBottom":{"value":28,"unit":"px"}},"ports":[],"children":[{"id":"dec1570e-e421-fa2c-98c2-af8533dcbf7a","type":"Text","parameters":{"text":"Are you sure you want to delete this entry?","color":"Selection Yellow","textStyle":"Title Large","fontSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"61a4fc1c-0c39-5b7a-1275-45ad67edd963","type":"Text","parameters":{"text":"This action cannot be undone and will be gone from the records.","color":"White"},"ports":[],"children":[]}]},{"id":"c7487f26-f9a8-7788-5ff1-e73a237d30f9","type":"Group","parameters":{"flexDirection":"row","justifyContent":"flex-end"},"ports":[],"children":[{"id":"1ad58d18-4440-86ed-f2bb-9d97ee650df2","type":"net.noodl.controls.button","parameters":{"backgroundColor":"Not-so Deep Blue","label":"No","color":"White"},"ports":[],"children":[]},{"id":"81864684-aa7e-aff3-69cf-ded508af4299","type":"net.noodl.controls.button","parameters":{"marginLeft":{"value":14,"unit":"px"},"label":"I know what I'm doing.","backgroundColor":"Depressive Blue"},"ports":[],"children":[]}]}]}]}]},{"id":"1c3bd9a5-d078-a5ac-0c5f-1fa858ff03ed","type":"/Submit Faculty/Add Participation","parameters":{},"ports":[],"children":[]},{"id":"2961cba6-ea1c-08f9-e67c-1be99cf44068","type":"/Submit Faculty/Add Participation","parameters":{},"ports":[],"children":[]}]},{"id":"4c57dea7-0ffa-0ca2-d557-e600f57703a3","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"31c9347e-f4c8-074d-2730-57e57b8f201c","type":"Text","parameters":{"sizeMode":"explicit","textAlignX":"center","textAlignY":"center","text":"Dashboard","fontSize":{"value":50,"unit":"px"},"color":"White"},"ports":[],"children":[]},{"id":"d75672ae-d830-3fff-65fc-97f6d0458fc5","type":"JavaScriptFunction","parameters":{"functionScript":"let userid = Inputs.userid || '';\r\nconst yearValue = Inputs.yearValue;\r\nconst archived = true;\r\n\r\ntry {\r\n  // Retrieve records from the 'categories' table\r\n  const { data, error } = await Noodl.Variables.supabaselocal.from('participation')\r\n  .select('*')\r\n  .eq('user_id', userid)\r\n  .eq('is_active', archived)\r\n  .eq('schoolyear', yearValue)\r\n  .order('created_at', { ascending: false })\r\n  ;\r\n\r\n  // Create a JSON array to store the rows\r\n  const jsonArray = [];\r\n  if(data){\r\n    data.forEach(row => {\r\n      const jsonRow = {\r\n        Id: row.id,\r\n        Created_at: row.created_at,\r\n        User_id: row.user_id,\r\n        Activity_id: row.activity_id,\r\n        Noi_id: row.noi_id,\r\n        Is_institutional: row.is_institutional,\r\n        Is_verified: row.is_verified,\r\n        Schoolyear: row.schoolyear,\r\n        Is_active: row.is_active,\r\n        Remarks: row.remarks\r\n      };\r\n      jsonArray.push(jsonRow);\r\n    });\r\n  }\r\n  // Iterate through the rows and assign 'desc' to 'Label' and 'id' to 'Value'\r\n  if (error){\r\n    console.log(error);\r\n  }\r\n  \r\n  // Output the JSON array\r\n  Outputs.JsonArray = jsonArray;\r\n  console.log(\"[fetch participation Success] : \", jsonArray);\r\n  Outputs.Success();\r\n\r\n  \r\n} catch (error) {\r\n  console.log(\"getParticipations: ERROR : \", error);\r\n  Outputs.Error = error;\r\n  Outputs.Failure();\r\n  return;\r\n}\r\n"},"ports":[{"name":"in-userid","displayName":"userid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-yearValue","displayName":"yearValue","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-JsonArray","displayName":"JsonArray","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"18cbfe21-0090-1896-2b1a-f20969902ffd","type":"Model2","parameters":{"properties":"Id"},"ports":[],"children":[]},{"id":"904d4551-b9e3-6e71-ff8e-07a8e028cf47","type":"Model2","parameters":{"modelId":"currentUser","properties":"auth"},"ports":[],"children":[]},{"id":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","type":"States","parameters":{"states":"Clicked,Unclicked","values":"Mounted","type-Mounted":"boolean","value-Clicked-Mounted":true},"ports":[],"children":[]},{"id":"53bc16f5-23fc-39bf-c273-1c6d445af6de","type":"/Show Toast","parameters":{"Message":"Entry successfully removed!","Type":"Success"},"ports":[],"children":[]},{"id":"352a5bff-0710-e234-4f18-31e6918ca844","type":"/Show Toast","parameters":{"Type":"Error"},"ports":[],"children":[]},{"id":"1dd4a5a9-e48e-6f4e-a858-d787251f8b98","type":"RouterNavigate","parameters":{"router":"Logged_in_main_panel","target":"/Dashboard"},"ports":[],"children":[]},{"id":"523d7ab8-0d74-a877-a6d1-2a424552f173","type":"JavaScriptFunction","parameters":{"functionScript":"const partid = Inputs.id || '';\r\nconst isApproved = Inputs.isApproved;\r\n\r\n\r\nif (isApproved){\r\n    Outputs.errorMessage = \"You cannot delete an approved record.\";\r\n    Outputs.Failure();\r\n    return;\r\n} else if (isApproved === null) {\r\n    Outputs.errorMessage = \"You cannot delete an approved record for resubmission. Visit the LMCDAC office if you wish to have this removed.\";\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nif (!partid){\r\n    console.log(\"Error @ updateStatus: participation is NULL\")\r\n    Outputs.Failure()\r\n} else {\r\n    const { data, error } = await Noodl.Variables.supabaselocal.from('participation')\r\n    .delete()\r\n    .eq('id', partid)\r\n\r\n    if(error){\r\n        console.log(\"Error @ updateStatus: \", error);\r\n        Outputs.errorMessage = \"[\"+ error.code + \"] \" + error.message;\r\n        Outputs.Failure();\r\n    } else {\r\n        console.log(\"Archiving participation with entryID: [\" + partid + \"]\");\r\n        Outputs.Success();\r\n    }\r\n}"},"ports":[{"name":"in-id","displayName":"id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-isApproved","displayName":"isApproved","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-errorMessage","displayName":"errorMessage","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"2810f133-223f-d277-e5f3-b15bbe2aa136","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","backgroundColor":"transparent","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Depressive Blue","alignItems":"center","borderLeftStyle":"solid","borderLeftWidth":{"value":1,"unit":"px"},"borderLeftColor":"Depressive Blue","borderRightStyle":"solid","borderRightWidth":{"value":1,"unit":"px"},"borderRightColor":"Depressive Blue"},"ports":[],"children":[{"id":"41c643bf-3c54-e260-697f-8a6fbf1fd9d2","type":"Text","parameters":{"color":"Grey - 200","fontSize":{"value":13,"unit":"px"},"sizeMode":"contentHeight","text":"","textAlignX":"center"},"ports":[],"children":[]},{"id":"96b0f983-f522-0db5-827b-e2a71a729421","type":"Text","parameters":{"color":"Grey - 200","fontSize":{"value":13,"unit":"px"},"sizeMode":"contentHeight","text":"","textAlignX":"center"},"ports":[],"children":[]},{"id":"739caa97-f554-8b60-1083-3b89166f2689","type":"Text","parameters":{"color":"Grey - 200","fontSize":{"value":13,"unit":"px"},"sizeMode":"contentHeight","text":"Points","textAlignX":"center","width":{"value":50,"unit":"%"}},"ports":[],"children":[]},{"id":"9ff8d7fa-271e-4e0e-6560-062d2e0cf702","type":"Text","parameters":{"color":"Selection Yellow","fontSize":{"value":13,"unit":"px"},"sizeMode":"contentHeight","text":"Status","textAlignX":"center","width":{"value":50,"unit":"%"}},"ports":[],"children":[]},{"id":"694862c2-e58f-3275-f099-2b2d2ea38e27","type":"Text","parameters":{"color":"Grey - 200","fontSize":{"value":13,"unit":"px"},"sizeMode":"contentHeight","text":"Date","textAlignX":"center"},"ports":[],"children":[]},{"id":"c915485f-30e5-f86d-f601-fa1a0b703d64","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"0c99fc3a-bff1-2708-e935-d17e1ee992b9","type":"net.noodl.controls.button","parameters":{"backgroundColor":"Ohno","label":"Remove","alignX":"center","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Depressive Blue"},"ports":[],"children":[]}]}]},{"id":"b0a9e5d5-48da-a0be-c1aa-236b1a174033","type":"JavaScriptFunction","parameters":{"functionScript":"// const partid = Inputs.id || '';\r\n// const isApproved = Inputs.isApproved;\r\n\r\n\r\n// if (isApproved){\r\n//     Outputs.errorMessage = \"You cannot delete an approved record.\";\r\n//     Outputs.Failure();\r\n//     return;\r\n// }\r\n\r\n// if (!partid){\r\n//     console.log(\"Error @ updateStatus: participation is NULL\")\r\n//     Outputs.Failure()\r\n// } else {\r\n//     const { data, error } = await Noodl.Variables.supabase.from('participation')\r\n//     .upsert({id: partid, is_active: false})\r\n//     .select()\r\n\r\n//     if(error){\r\n//         console.log(\"Error @ updateStatus: \", error);\r\n//         Outputs.errorMessage = \"[\"+ error.code + \"] \" + error.message;\r\n//         Outputs.Failure();\r\n//     } else {\r\n//         console.log(\"Archiving participation with entryID: [\" + partid + \"]\");\r\n//         Outputs.Success();\r\n//     }\r\n// }"},"ports":[{"name":"in-id","displayName":"id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-isApproved","displayName":"isApproved","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-errorMessage","displayName":"errorMessage","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"af00adfe-647a-a0d8-465a-f5db429b9bca","type":"States","parameters":{"states":"Loading,Finished","currentState":"Loading","values":"Mounted,Remove message","type-Mounted":"boolean","value-Finished-Mounted":true,"type-Remove message":"boolean","value-Loading-Remove message":true},"ports":[],"children":[]},{"id":"ef00850e-9ed2-68e3-6e93-5d919492fa84","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst fetchActiveSchoolYear = async () => {\n    const { data, error } = await Noodl.Variables.supabaselocal\n        .from('schoolyear')\n        .select('*')\n        .eq('is_active', true);\n\n    if (error) {\n        Outputs.Error = error.message;\n        Outputs.Failure();\n    } else {\n        Outputs.Year = data[0]; // Assuming only one active school year record\n        Outputs.Success();\n    }\n}\n\nfetchActiveSchoolYear();\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Year","displayName":"Year","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"a0ae9eb8-a269-0fc4-58e1-1920b480d83a","type":"Model2","parameters":{"modelId":"currSchoolYear","properties":"desc"},"ports":[],"children":[]},{"id":"daafbc2a-3f38-e670-5129-2d85e3316a0e","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst fetchActiveSchoolYear = async () => {\n    const { data, error } = await Noodl.Variables.supabaselocal\n        .from('schoolyear')\n        .select('*')\n        .eq('is_active', true);\n\n    if (error) {\n        Outputs.Error = error.message;\n        Outputs.Failure();\n    } else {\n        Outputs.Year = data[0]; // Assuming only one active school year record\n        Outputs.Success();\n    }\n}\n\nfetchActiveSchoolYear();\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Year","displayName":"Year","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"f12b9eec-c073-2278-3bfd-0bdaa20cd2e0","type":"Model2","parameters":{"modelId":"currSchoolYear","properties":"yearvalue,desc"},"ports":[],"children":[]},{"id":"fdbf8fae-7d6e-73cf-c23b-8174f3c0bf96","type":"Model2","parameters":{"modelId":"currentUser","properties":"profile"},"ports":[],"children":[]},{"id":"0112ec9d-f7d0-3f82-0838-e1d7a2112b6f","type":"Model2","parameters":{"properties":"first_name"},"ports":[],"children":[]}],"connections":[{"sourceId":"904d4551-b9e3-6e71-ff8e-07a8e028cf47","sourcePort":"prop-auth","targetId":"18cbfe21-0090-1896-2b1a-f20969902ffd","targetPort":"modelId"},{"sourceId":"d75672ae-d830-3fff-65fc-97f6d0458fc5","sourcePort":"out-JsonArray","targetId":"429d9c34-fc65-25d3-ff28-7fe37f9517b5","targetPort":"items"},{"sourceId":"18cbfe21-0090-1896-2b1a-f20969902ffd","sourcePort":"id","targetId":"d75672ae-d830-3fff-65fc-97f6d0458fc5","targetPort":"in-userid"},{"sourceId":"429d9c34-fc65-25d3-ff28-7fe37f9517b5","sourcePort":"itemOutputSignal-Click","targetId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","targetPort":"to-Clicked"},{"sourceId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","sourcePort":"Mounted","targetId":"2a85c5bd-71d2-1341-c625-942bc4ce4805","targetPort":"mounted"},{"sourceId":"1ad58d18-4440-86ed-f2bb-9d97ee650df2","sourcePort":"onClick","targetId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","targetPort":"to-Unclicked"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-Success","targetId":"53bc16f5-23fc-39bf-c273-1c6d445af6de","targetPort":"Do"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-errorMessage","targetId":"352a5bff-0710-e234-4f18-31e6918ca844","targetPort":"Message"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-Failure","targetId":"352a5bff-0710-e234-4f18-31e6918ca844","targetPort":"Do"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-Success","targetId":"1dd4a5a9-e48e-6f4e-a858-d787251f8b98","targetPort":"navigate"},{"sourceId":"73a69caf-3d68-5ae0-ebf3-2c570e65eff5","sourcePort":"didMount","targetId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","targetPort":"to-Unclicked"},{"sourceId":"81864684-aa7e-aff3-69cf-ded508af4299","sourcePort":"onClick","targetId":"523d7ab8-0d74-a877-a6d1-2a424552f173","targetPort":"run"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-Success","targetId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","targetPort":"to-Unclicked"},{"sourceId":"523d7ab8-0d74-a877-a6d1-2a424552f173","sourcePort":"out-Failure","targetId":"ac69897d-1e3e-f97a-a854-6a6fb1fa5415","targetPort":"to-Unclicked"},{"sourceId":"429d9c34-fc65-25d3-ff28-7fe37f9517b5","sourcePort":"itemOutput-Id","targetId":"523d7ab8-0d74-a877-a6d1-2a424552f173","targetPort":"in-id"},{"sourceId":"429d9c34-fc65-25d3-ff28-7fe37f9517b5","sourcePort":"itemOutput-isApproved","targetId":"523d7ab8-0d74-a877-a6d1-2a424552f173","targetPort":"in-isApproved"},{"sourceId":"af00adfe-647a-a0d8-465a-f5db429b9bca","sourcePort":"Mounted","targetId":"2da773dd-7302-cb0d-ab15-f70288b93487","targetPort":"mounted"},{"sourceId":"af00adfe-647a-a0d8-465a-f5db429b9bca","sourcePort":"Remove message","targetId":"c38909c7-db0e-01e7-b8c8-011999faca6f","targetPort":"mounted"},{"sourceId":"d75672ae-d830-3fff-65fc-97f6d0458fc5","sourcePort":"out-Success","targetId":"af00adfe-647a-a0d8-465a-f5db429b9bca","targetPort":"to-Finished"},{"sourceId":"ef00850e-9ed2-68e3-6e93-5d919492fa84","sourcePort":"out-Year","targetId":"a0ae9eb8-a269-0fc4-58e1-1920b480d83a","targetPort":"modelId"},{"sourceId":"ef00850e-9ed2-68e3-6e93-5d919492fa84","sourcePort":"out-Success","targetId":"a0ae9eb8-a269-0fc4-58e1-1920b480d83a","targetPort":"fetch"},{"sourceId":"73a69caf-3d68-5ae0-ebf3-2c570e65eff5","sourcePort":"didMount","targetId":"ef00850e-9ed2-68e3-6e93-5d919492fa84","targetPort":"run"},{"sourceId":"a0ae9eb8-a269-0fc4-58e1-1920b480d83a","sourcePort":"prop-desc","targetId":"95cdd6b5-7010-a072-bf5c-21768946f61a","targetPort":"text"},{"sourceId":"daafbc2a-3f38-e670-5129-2d85e3316a0e","sourcePort":"out-Year","targetId":"f12b9eec-c073-2278-3bfd-0bdaa20cd2e0","targetPort":"modelId"},{"sourceId":"daafbc2a-3f38-e670-5129-2d85e3316a0e","sourcePort":"out-Success","targetId":"f12b9eec-c073-2278-3bfd-0bdaa20cd2e0","targetPort":"fetch"},{"sourceId":"f12b9eec-c073-2278-3bfd-0bdaa20cd2e0","sourcePort":"prop-yearvalue","targetId":"d75672ae-d830-3fff-65fc-97f6d0458fc5","targetPort":"in-yearValue"},{"sourceId":"73a69caf-3d68-5ae0-ebf3-2c570e65eff5","sourcePort":"didMount","targetId":"daafbc2a-3f38-e670-5129-2d85e3316a0e","targetPort":"run"},{"sourceId":"fdbf8fae-7d6e-73cf-c23b-8174f3c0bf96","sourcePort":"prop-profile","targetId":"0112ec9d-f7d0-3f82-0838-e1d7a2112b6f","targetPort":"modelId"},{"sourceId":"0112ec9d-f7d0-3f82-0838-e1d7a2112b6f","sourcePort":"prop-first_name","targetId":"f0180cbd-e3a5-7666-29d4-ff7480388fd8","targetPort":"text"},{"sourceId":"d60cb620-d2df-a78b-8d22-5ad972e3ecb9","sourcePort":"onClick","targetId":"1c3bd9a5-d078-a5ac-0c5f-1fa858ff03ed","targetPort":"Click"}],"ports":[],"roots":["73a69caf-3d68-5ae0-ebf3-2c570e65eff5","31c9347e-f4c8-074d-2730-57e57b8f201c","2810f133-223f-d277-e5f3-b15bbe2aa136"]}]